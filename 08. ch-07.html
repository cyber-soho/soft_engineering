<!DOCTYPE html>
<html lang="en" class="solarized-light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Software Testing: From Components to Systems</title>
    <!-- 
      SINGLE FILE APPLICATION
      Title: Software Testing: From Components to Systems
      Theme: Solarized Light/Dark
      Security: No external resources, self-contained.
    -->
    <style>
        /* --- THEME VARIABLES (Solarized) --- */
        :root {
            --base03: #002b36;
            --base02: #073642;
            --base01: #586e75;
            --base00: #657b83;
            --base0: #839496;
            --base1: #93a1a1;
            --base2: #eee8d5;
            --base3: #fdf6e3;
            --yellow: #b58900;
            --orange: #cb4b16;
            --red: #dc322f;
            --magenta: #d33682;
            --violet: #6c71c4;
            --blue: #268bd2;
            --cyan: #2aa198;
            --green: #859900;
        }

        /* LIGHT THEME */
        html.solarized-light {
            --bg: var(--base3);
            --bg-alt: var(--base2);
            --text: var(--base01);
            --text-heading: var(--base02);
            --border: var(--base1);
            --link: var(--blue);
            --btn-bg: var(--base2);
            --btn-text: var(--base02); /* High contrast */
            --btn-hover: var(--base1);
            --code-bg: var(--base2);
            --input-bg: #fff;
            --shadow: rgba(0,0,0,0.1);
        }

        /* DARK THEME */
        html.solarized-dark {
            --bg: var(--base03);
            --bg-alt: var(--base02);
            --text: var(--base0);
            --text-heading: var(--base2);
            --border: var(--base01);
            --link: var(--cyan);
            --btn-bg: var(--base02);
            --btn-text: var(--base1);
            --btn-hover: var(--base01);
            --code-bg: #002028;
            --input-bg: var(--base02);
            --shadow: rgba(0,0,0,0.5);
        }

        /* --- RESET & BASE --- */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            line-height: 1.6;
            transition: background 0.3s, color 0.3s;
            padding-top: 140px; /* Space for fixed header */
        }
        a { color: var(--link); text-decoration: none; font-weight: bold; }
        a:hover { text-decoration: underline; }

        /* --- HEADER & NAVIGATION --- */
        .top-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: var(--bg-alt);
            border-bottom: 2px solid var(--border);
            z-index: 1000;
            padding: 10px 20px;
            box-shadow: 0 2px 10px var(--shadow);
        }
        
        .header-upper {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .site-title {
            font-size: 1.4rem;
            font-weight: 800;
            color: var(--text-heading);
            letter-spacing: 0.5px;
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .ctrl-btn {
            padding: 6px 12px;
            border-radius: 4px;
            border: 1px solid var(--border);
            background: var(--btn-bg);
            color: var(--btn-text);
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 600;
            transition: all 0.2s;
        }
        .ctrl-btn:hover { background: var(--btn-hover); }

        /* Theme Switch */
        .theme-switch {
            display: flex;
            align-items: center;
            cursor: pointer;
            margin-left: 10px;
        }
        .switch-input { display: none; }
        .switch-label {
            width: 50px;
            height: 24px;
            background: var(--border);
            border-radius: 20px;
            position: relative;
            transition: 0.3s;
        }
        .switch-label::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: #fff;
            border-radius: 50%;
            transition: 0.3s;
        }
        .switch-input:checked + .switch-label { background: var(--blue); }
        .switch-input:checked + .switch-label::after { transform: translateX(26px); }

        /* Navigation Menu */
        .main-nav {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
            justify-content: flex-start;
        }
        .nav-item {
            padding: 8px 16px;
            background: transparent;
            border: none;
            color: var(--text);
            font-weight: 600;
            cursor: pointer;
            border-radius: 4px;
            transition: 0.2s;
        }
        .nav-item:hover { background: var(--btn-hover); }
        .nav-item.active {
            background: var(--blue);
            color: #fff;
        }

        /* --- MAIN CONTENT --- */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            min-height: 80vh;
        }

        .section { display: none; animation: fadeIn 0.3s ease; }
        .section.active { display: block; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1, h2, h3 { color: var(--text-heading); margin-bottom: 1rem; }
        h1 { border-bottom: 3px solid var(--border); padding-bottom: 10px; margin-bottom: 20px; }
        h2 { margin-top: 30px; border-bottom: 1px solid var(--border); padding-bottom: 5px; }

        /* --- EXPANDABLE DETAILS --- */
        details {
            background: var(--bg-alt);
            border: 1px solid var(--border);
            border-radius: 5px;
            margin-bottom: 15px;
            overflow: hidden;
        }
        summary {
            padding: 12px 20px;
            cursor: pointer;
            font-weight: bold;
            list-style: none;
            background: var(--bg-alt);
            color: var(--text-heading);
            display: flex;
            align-items: center;
        }
        summary::-webkit-details-marker { display: none; }
        summary::before {
            content: '‚ñ∂';
            font-size: 0.8rem;
            margin-right: 10px;
            transition: transform 0.2s;
        }
        details[open] summary::before { transform: rotate(90deg); }
        details[open] summary { border-bottom: 1px solid var(--border); }
        .details-content { padding: 20px; background: var(--bg); }

        /* --- DIAGRAMS (SVG) --- */
        .svg-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
            padding: 20px;
            background: var(--bg-alt);
            border-radius: 8px;
            border: 1px solid var(--border);
        }
        svg text {
            font-family: sans-serif;
            fill: var(--text);
        }
        svg path, svg rect, svg circle, svg polygon {
            stroke: var(--text);
        }

        /* --- CODE BOXES --- */
        .code-block {
            background: var(--code-bg);
            border: 1px solid var(--border);
            border-radius: 5px;
            margin: 15px 0;
            overflow: hidden;
        }
        .code-header {
            background: var(--border);
            padding: 5px 15px;
            font-size: 0.9rem;
            font-weight: bold;
            color: var(--bg);
            display: flex;
            justify-content: space-between;
        }
        pre {
            padding: 15px;
            overflow-x: auto;
            color: var(--green);
            font-family: 'Courier New', Courier, monospace;
        }
        .code-controls {
            padding: 10px;
            background: var(--bg-alt);
            border-top: 1px solid var(--border);
            display: flex;
            gap: 10px;
        }
        .run-btn { background: var(--green); color: white; border: none; padding: 5px 15px; border-radius: 3px; cursor: pointer; }
        .clear-btn { background: var(--red); color: white; border: none; padding: 5px 15px; border-radius: 3px; cursor: pointer; }
        .output-box {
            background: #000;
            color: #0f0;
            padding: 10px;
            font-family: monospace;
            min-height: 40px;
            display: none;
            border-top: 1px solid var(--border);
            white-space: pre-wrap;
        }

        /* --- EXERCISES & IMPORT --- */
        .exercise-card {
            background: var(--bg-alt);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid var(--border);
            margin-bottom: 30px;
        }
        .answer-area {
            margin-top: 15px;
            border: 2px solid var(--border);
            border-radius: 5px;
            background: var(--input-bg);
        }
        .toolbar {
            padding: 8px;
            border-bottom: 1px solid var(--border);
            background: var(--bg);
            display: flex;
            gap: 10px;
        }
        .import-btn {
            background: var(--blue);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
        }
        .import-hidden { display: none; }
        .editable-box {
            min-height: 150px;
            padding: 15px;
            outline: none;
            overflow-y: auto;
            color: var(--text);
        }
        .editable-box img { max-width: 100%; border: 1px solid var(--border); }

        /* --- SUBMIT SECTION --- */
        .submit-section {
            background: var(--bg-alt);
            padding: 30px;
            border-top: 4px solid var(--green);
            margin-top: 40px;
            border-radius: 8px;
        }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: bold; }
        .form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border);
            border-radius: 4px;
            background: var(--input-bg);
            color: var(--text);
        }
        .submit-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        .action-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            font-weight: bold;
            cursor: pointer;
            text-align: center;
            flex: 1;
        }
        .btn-email { background: var(--orange); color: white; }
        .btn-copy { background: var(--cyan); color: white; }
        
        /* --- PASSWORD MODAL --- */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background: var(--bg);
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        .pwd-input-container {
            position: relative;
            margin: 20px 0;
        }
        .pwd-input {
            width: 100%;
            padding: 10px;
            padding-right: 40px;
        }
        .eye-icon {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
        }
        .error-msg { color: var(--red); display: none; margin-top: 10px; }

        /* --- EVALUATION GRID --- */
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid var(--border); padding: 12px; text-align: left; }
        th { background: var(--bg-alt); color: var(--text-heading); }

        /* --- RESPONSIVE --- */
        @media(max-width: 768px) {
            .header-upper { flex-direction: column; gap: 10px; align-items: flex-start; }
            .header-controls { width: 100%; justify-content: space-between; }
            .main-nav { overflow-x: auto; padding-bottom: 5px; }
            body { padding-top: 180px; }
        }
    </style>
</head>
<body>

    <!-- SVG Defs for Arrows -->
    <svg width="0" height="0" style="position:absolute">
        <defs>
            <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto" fill="var(--link)">
                <polygon points="0 0, 10 3.5, 0 7" stroke="none"/>
            </marker>
        </defs>
    </svg>

    <!-- Header -->
    <header class="top-bar">
        <div class="header-upper">
            <div class="site-title">Software Testing: From Components to Systems</div>
            <div class="header-controls">
                <button class="ctrl-btn" onclick="toggleDetails(true)">Expand All</button>
                <button class="ctrl-btn" onclick="toggleDetails(false)">Collapse All</button>
                <label class="theme-switch" title="Toggle Theme">
                    <input type="checkbox" class="switch-input" id="themeToggle">
                    <div class="switch-label"></div>
                </label>
            </div>
        </div>
        <nav class="main-nav">
            <button class="nav-item active" onclick="showSection('lecture')">1. Lecture</button>
            <button class="nav-item" onclick="showSection('exercises')">2. Exercises</button>
            <button class="nav-item" onclick="showSection('tips')">3. Tips</button>
            <button class="nav-item" onclick="showSection('explanations')">4. Explanations</button>
            <button class="nav-item" onclick="checkPassword()">5. Answers</button>
            <button class="nav-item" onclick="showSection('evaluation')">6. Evaluation Grid</button>
        </nav>
    </header>

    <div class="container">

        <!-- 1. LECTURE SECTION -->
        <section id="lecture" class="section active">
            <h1>Lecture: Software Testing</h1>
            
            <!-- PART 1: COMPONENT LEVEL (Summarized for brevity as requested focus is on 2 & 3) -->
            <h2>PART 1: COMPONENT-LEVEL TESTING</h2>
            <details>
                <summary>[1.0] A Strategic Approach to Software Testing</summary>
                <div class="details-content">
                    <p>Testing is not a safety net to add quality; it is a process to confirm quality and find defects. Our strategy moves from the component level out to the full system.</p>
                    <div class="svg-container">
                        <svg width="300" height="200" viewBox="0 0 300 200">
                            <circle cx="150" cy="100" r="20" fill="none" stroke-width="2"/>
                            <text x="150" y="105" text-anchor="middle" font-size="10">Unit</text>
                            <circle cx="150" cy="100" r="50" fill="none" stroke-width="2" stroke-dasharray="4"/>
                            <text x="150" y="40" text-anchor="middle" font-size="10">Integration</text>
                            <circle cx="150" cy="100" r="80" fill="none" stroke-width="2"/>
                            <text x="150" y="15" text-anchor="middle" font-size="10">System</text>
                        </svg>
                    </div>
                </div>
            </details>

            <details>
                <summary>[1.1] Verification vs Validation (V&V)</summary>
                <div class="details-content">
                    <ul>
                        <li><strong>Verification:</strong> "Are we building the product RIGHT?" (Does it match the spec?)</li>
                        <li><strong>Validation:</strong> "Are we building the RIGHT product?" (Does it match what the user wants?)</li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>[1.4] Unit Testing & Python Example</summary>
                <div class="details-content">
                    <p>Unit testing focuses on the smallest unit of software design. We often use drivers and stubs.</p>
                    <div class="code-block">
                        <div class="code-header"><span>Python Example: Unit Test Stub</span></div>
                        <pre>
# Component to test
def calculate_total(price, tax_rate):
    if price < 0: return 0
    return price * (1 + tax_rate)

# Test Driver
def run_test():
    result = calculate_total(100, 0.05)
    print(f"Test Input: 100, 0.05")
    print(f"Expected: 105.0")
    print(f"Actual: {result}")
    
    if result == 105.0:
        print("PASS")
    else:
        print("FAIL")

run_test()
                        </pre>
                        <div class="code-controls">
                            <button class="run-btn" onclick="runCode('code1', 'Test Input: 100, 0.05\nExpected: 105.0\nActual: 105.0\nPASS')">Run</button>
                            <button class="clear-btn" onclick="clearCode('code1')">Clear</button>
                        </div>
                        <div id="code1" class="output-box"></div>
                    </div>
                </div>
            </details>

            <details>
                <summary>[1.6] White-Box Testing</summary>
                <div class="details-content">
                    <p>Testing with full knowledge of the internal logic. Techniques include Basis Path Testing and Loop Testing.</p>
                </div>
            </details>

            <details>
                <summary>[1.9] Black-Box Testing</summary>
                <div class="details-content">
                    <p>Testing without knowing the internal code. Focus on inputs and outputs.</p>
                    <div class="code-block">
                        <div class="code-header"><span>Python Example: Boundary Value Analysis</span></div>
                        <pre>
def check_age(age):
    # Boundary Bug: meant >= 18
    if age > 18: 
        return "Adult"
    return "Minor"

# BVA Test
print(f"Test 17 (Below): {check_age(17)}")
print(f"Test 18 (Boundary): {check_age(18)}") # Logic error revealed
print(f"Test 19 (Above): {check_age(19)}")
                        </pre>
                        <div class="code-controls">
                            <button class="run-btn" onclick="runCode('code2', 'Test 17 (Below): Minor\nTest 18 (Boundary): Minor\nTest 19 (Above): Adult')">Run</button>
                            <button class="clear-btn" onclick="clearCode('code2')">Clear</button>
                        </div>
                        <div id="code2" class="output-box"></div>
                    </div>
                </div>
            </details>

            <!-- PART 2: INTEGRATION LEVEL - RESTORED FULL CONTENT -->
            <h2>PART 2: INTEGRATION-LEVEL TESTING</h2>

            <details>
                <summary>[2.0] Introduction to Integration Testing</summary>
                <div class="details-content">
                    <p>We have successfully "unit tested" all our components. They all work perfectly... in isolation. Now, we must assemble them. <a href="https://en.wikipedia.org/wiki/Integration_testing" target="_blank">Integration testing</a> is a systematic technique for building the software architecture while <em>simultaneously</em> testing the interfaces between components. The goal is to find errors that occur <em>when components interact</em>.</p>
                    <p>Common integration errors include:</p>
                    <ul>
                        <li><strong>Data loss:</strong> One component passes data, but the receiving component misinterprets it.</li>
                        <li><strong>Adverse effects:</strong> Component A overwrites memory used by Component B.</li>
                        <li><strong>Interface mismatch:</strong> Argument count mismatches between caller and receiver.</li>
                    </ul>
                    <p>A "Big Bang" approach (combining everything at once) is a recipe for chaos. We use incremental strategies.</p>
                </div>
            </details>

            <details>
                <summary>[2.1] Top-Down Integration</summary>
                <div class="details-content">
                    <p>Starts at the main control module. Stubs are used for lower-level modules and replaced one by one.</p>
                    <div class="svg-container">
                        <svg width="500" height="300" viewBox="0 0 500 300">
                             <rect x="175" y="40" width="150" height="50" fill="var(--bg-alt)" stroke="var(--text)" stroke-width="2"></rect>
                             <text x="250" y="70" text-anchor="middle" fill="var(--text)">Main Module</text>
                             <rect x="40" y="140" width="120" height="50" fill="var(--bg-alt)" stroke="var(--text)" stroke-width="2"></rect>
                             <text x="100" y="170" text-anchor="middle" fill="var(--text)">Module A</text>
                             <rect x="190" y="140" width="120" height="50" fill="none" stroke="var(--text)" stroke-width="2" stroke-dasharray="4"></rect>
                             <text x="250" y="170" text-anchor="middle" fill="var(--text)">Stub B</text>
                             <rect x="340" y="140" width="120" height="50" fill="none" stroke="var(--text)" stroke-width="2" stroke-dasharray="4"></rect>
                             <text x="400" y="170" text-anchor="middle" fill="var(--text)">Stub C</text>
                             <path d="M220,90 L130,140" stroke="var(--link)" stroke-width="2" marker-end="url(#arrowhead)"></path>
                             <path d="M250,90 L250,140" stroke="var(--link)" stroke-width="2" marker-end="url(#arrowhead)"></path>
                             <path d="M280,90 L370,140" stroke="var(--link)" stroke-width="2" marker-end="url(#arrowhead)"></path>
                        </svg>
                    </div>
                </div>
            </details>

            <details>
                <summary>[2.2] Bottom-Up Integration</summary>
                <div class="details-content">
                    <p>Starts with the lowest level components (utility/database). Drivers are used to test clusters. No stubs are needed.</p>
                    <div class="svg-container">
                        <svg width="500" height="300" viewBox="0 0 500 300">
                            <rect x="175" y="40" width="150" height="50" fill="var(--bg-alt)" stroke="var(--text)" stroke-width="2"></rect>
                            <text x="250" y="70" text-anchor="middle" fill="var(--text)">Main Module</text>
                            <rect x="80" y="140" width="120" height="50" fill="var(--bg-alt)" stroke="var(--text)" stroke-width="2"></rect>
                            <text x="140" y="170" text-anchor="middle" fill="var(--text)">Module A</text>
                            <rect x="190" y="140" width="120" height="50" fill="var(--bg-alt)" stroke="var(--text)" stroke-width="2"></rect>
                            <text x="250" y="170" text-anchor="middle" fill="var(--text)">Module B</text>
                            <rect x="340" y="140" width="120" height="50" fill="var(--bg-alt)" stroke="var(--text)" stroke-width="2"></rect>
                            <text x="400" y="170" text-anchor="middle" fill="var(--text)">Module C</text>
                            <rect x="10" y="140" width="60" height="50" fill="none" stroke="var(--text)" stroke-width="2" stroke-dasharray="4"></rect>
                            <text x="40" y="170" text-anchor="middle" fill="var(--text)">Driver</text>
                            <path d="M70, 165 L80, 165" stroke="var(--link)" stroke-width="2" marker-end="url(#arrowhead)"></path>
                            <path d="M220,90 L140,140" stroke="var(--link)" stroke-width="2" marker-end="url(#arrowhead)"></path>
                            <path d="M250,90 L250,140" stroke="var(--link)" stroke-width="2" marker-end="url(#arrowhead)"></path>
                            <path d="M280,90 L370,140" stroke="var(--link)" stroke-width="2" marker-end="url(#arrowhead)"></path>
                        </svg>
                    </div>
                </div>
            </details>

            <details>
                <summary>[2.3] Continuous Integration (CI) and Smoke Testing</summary>
                <div class="details-content">
                    <p><strong><a href="https://en.wikipedia.org/wiki/Continuous_integration" target="_blank">Continuous Integration (CI)</a></strong> is the practice of merging work frequently. Each merge triggers an automated build and a <strong><a href="https://en.wikipedia.org/wiki/Smoke_testing_(software)" target="_blank">Smoke Test</a></strong>. A Smoke Test is a "shallow and wide" test designed to answer: "Did this change break the build?"</p>
                    <div class="svg-container">
                        <svg width="600" height="200" viewBox="0 0 600 200">
                            <rect x="20" y="70" width="100" height="60" fill="var(--bg-alt)" stroke="var(--text)" stroke-width="2"></rect>
                            <text x="70" y="105" text-anchor="middle" fill="var(--text)">Developer</text>
                            <rect x="160" y="70" width="100" height="60" fill="var(--bg-alt)" stroke="var(--text)" stroke-width="2"></rect>
                            <text x="210" y="105" text-anchor="middle" fill="var(--text)">Commit</text>
                            <rect x="300" y="70" width="100" height="60" fill="var(--bg-alt)" stroke="var(--text)" stroke-width="2"></rect>
                            <text x="350" y="95" text-anchor="middle" fill="var(--text)">CI Server</text>
                            <text x="350" y="115" text-anchor="middle" fill="var(--text)" font-size="12px">(Build)</text>
                            <rect x="440" y="70" width="120" height="60" fill="var(--bg-alt)" stroke="var(--text)" stroke-width="2"></rect>
                            <text x="500" y="95" text-anchor="middle" fill="var(--text)">Smoke Test</text>
                            <path d="M120,100 L160,100" stroke="var(--link)" stroke-width="2" marker-end="url(#arrowhead)"></path>
                            <path d="M260,100 L300,100" stroke="var(--link)" stroke-width="2" marker-end="url(#arrowhead)"></path>
                            <path d="M400,100 L440,100" stroke="var(--link)" stroke-width="2" marker-end="url(#arrowhead)"></path>
                            <path d="M500,130 L500,170 L70,170 L70,130" stroke="var(--link)" stroke-width="2" marker-end="url(#arrowhead)"></path>
                            <text x="285" y="185" text-anchor="middle" fill="var(--text)">Pass / Fail Feedback</text>
                        </svg>
                    </div>
                </div>
            </details>

            <details>
                <summary>[2.4] Regression Testing</summary>
                <div class="details-content">
                    <p><strong><a href="https://en.wikipedia.org/wiki/Regression_testing" target="_blank">Regression Testing</a></strong> ensures that changes have not introduced new bugs in existing features. We re-run a subset of previous tests.</p>
                    <div class="code-block">
                        <div class="code-header"><span>Python Example: Catching a Regression</span></div>
                        <pre>
class Calculator_v1:
    def add(self, a, b): return a + b

class Calculator_v2: # New version with a bug!
    def add(self, a, b): return a + b + 1 

def run_regression(calc):
    if calc.add(2,3) == 5: print("PASS")
    else: print("FAIL! Regression detected.")

print("Testing v1:")
run_regression(Calculator_v1())
print("Testing v2:")
run_regression(Calculator_v2())
                        </pre>
                        <div class="code-controls">
                            <button class="run-btn" onclick="runCode('code_reg', 'Testing v1:\nPASS\nTesting v2:\nFAIL! Regression detected.')">Run</button>
                            <button class="clear-btn" onclick="clearCode('code_reg')">Clear</button>
                        </div>
                        <div id="code_reg" class="output-box"></div>
                    </div>
                </div>
            </details>

            <details>
                <summary>[2.5] OO Integration Strategies</summary>
                <div class="details-content">
                    <ul>
                        <li><strong>Thread-Based Testing:</strong> Integrates the set of classes required to respond to one specific input or event (e.g., "User Login" thread).</li>
                        <li><strong>Use-Based Testing:</strong> Tests independent classes first, then dependent classes.</li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>[2.6] Scenario-Based Testing</summary>
                <div class="details-content">
                    <p>Focuses on user stories. E.g., "User logs in, checks balance, and transfers money." This tests the interaction of multiple subsystems from a user's perspective.</p>
                </div>
            </details>

            <!-- PART 3: SYSTEM LEVEL - RESTORED FULL CONTENT -->
            <h2>PART 3: SPECIALIZED AND SYSTEM-LEVEL TESTING</h2>

            <details>
                <summary>[3.0] Validation Testing</summary>
                <div class="details-content">
                    <p><strong><a href="https://en.wikipedia.org/wiki/Software_validation" target="_blank">Validation testing</a></strong> ensures the software meets customer requirements. It is a series of high-level, black-box tests based on user stories. Example: "The user must be able to undo a deletion."</p>
                </div>
            </details>

            <details>
                <summary>[3.1] Alpha and Beta Testing</summary>
                <div class="details-content">
                    <p>Acceptance Testing is done by the customer.</p>
                    <div class="svg-container">
                        <svg width="500" height="200" viewBox="0 0 500 200">
                            <rect x="20" y="40" width="220" height="120" fill="var(--bg-alt)" stroke="var(--text)" stroke-width="2"></rect>
                            <text x="130" y="70" text-anchor="middle" fill="var(--text)" font-weight="bold">Alpha Test</text>
                            <text x="130" y="100" text-anchor="middle" fill="var(--text)">Developer's Site</text>
                            <text x="130" y="120" text-anchor="middle" fill="var(--text)">Controlled Env</text>
                            <rect x="260" y="40" width="220" height="120" fill="var(--bg-alt)" stroke="var(--text)" stroke-width="2"></rect>
                            <text x="370" y="70" text-anchor="middle" fill="var(--text)" font-weight="bold">Beta Test</text>
                            <text x="370" y="100" text-anchor="middle" fill="var(--text)">User's Site ("Wild")</text>
                            <text x="370" y="120" text-anchor="middle" fill="var(--text)">Uncontrolled Env</text>
                        </svg>
                    </div>
                </div>
            </details>

            <details>
                <summary>[3.2] Specialized Testing for Mobility</summary>
                <div class="details-content">
                    <p>Mobile apps require specialized strategies:</p>
                    <ul>
                        <li><strong>Device Compatibility:</strong> Hundreds of screen sizes/OS versions.</li>
                        <li><strong>Connectivity:</strong> Switching from Wi-Fi to 5G to No Signal without crashing.</li>
                        <li><strong>Performance:</strong> Battery drain and memory usage.</li>
                        <li><strong>Context:</strong> GPS, camera, and accelerometer usage.</li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>[3.3] Mobile: User Experience (UX) Testing</summary>
                <div class="details-content">
                    <p>Testing gestures (swipes, pinches), virtual keyboards covering inputs, and handling <strong>interruptions</strong> (phone calls while using the app).</p>
                </div>
            </details>

            <details>
                <summary>[3.4] Web Application Testing</summary>
                <div class="details-content">
                    <ol>
                        <li><strong>Content:</strong> Accuracy and syntax.</li>
                        <li><strong>Interface:</strong> Forms and menus.</li>
                        <li><strong>Navigation:</strong> Links, redirects, and user flow.</li>
                        <li><strong>Compatibility:</strong> Browsers (Chrome, Firefox, Safari).</li>
                    </ol>
                </div>
            </details>

            <details>
                <summary>[3.8] Security Testing</summary>
                <div class="details-content">
                    <p><strong><a href="https://en.wikipedia.org/wiki/Security_testing" target="_blank">Security testing</a></strong> probes for vulnerabilities like SQL Injection, XSS, and Data Theft.</p>
                    <div class="svg-container">
                        <svg width="500" height="200" viewBox="0 0 500 200">
                             <rect x="20" y="70" width="100" height="60" fill="var(--bg-alt)" stroke="var(--text)" stroke-width="2"></rect>
                             <text x="70" y="105" text-anchor="middle" fill="var(--text)">Attacker</text>
                             <rect x="270" y="20" width="100" height="60" fill="var(--bg-alt)" stroke="var(--text)" stroke-width="2"></rect>
                             <text x="320" y="50" text-anchor="middle" fill="var(--text)">Firewall</text>
                             <rect x="270" y="120" width="100" height="60" fill="var(--bg-alt)" stroke="var(--text)" stroke-width="2"></rect>
                             <text x="320" y="150" text-anchor="middle" fill="var(--text)">Database</text>
                             <path d="M120, 90 C 180, 50 240, 50 270, 50" stroke="var(--red)" stroke-width="2" fill="none" marker-end="url(#arrowhead)"></path>
                             <text x="190" y="50" text-anchor="middle" fill="var(--red)">Input: ' OR 1=1</text>
                             <path d="M370, 50 L450, 50" stroke="var(--red)" stroke-width="2" stroke-dasharray="4 4"></path>
                             <text x="410" y="45" text-anchor="middle" fill="var(--red)">BLOCKED</text>
                        </svg>
                    </div>
                </div>
            </details>

            <details>
                <summary>[3.9 - 3.10] Performance, Load, and Stress Testing</summary>
                <div class="details-content">
                    <ul>
                        <li><strong><a href="https://en.wikipedia.org/wiki/Load_testing" target="_blank">Load Testing</a>:</strong> Testing under <em>expected</em> normal/peak load. (e.g., 1000 users).</li>
                        <li><strong><a href="https://en.wikipedia.org/wiki/Stress_testing" target="_blank">Stress Testing</a>:</strong> Testing <em>beyond</em> limits to find the breaking point and ensure graceful degradation.</li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>[3.11 - 3.13] AI, Accessibility, and Documentation</summary>
                <div class="details-content">
                    <ul>
                        <li><strong>AI Testing:</strong> Focuses on data validation, model accuracy (recall/precision), and non-deterministic results.</li>
                        <li><strong><a href="https://en.wikipedia.org/wiki/Accessibility_testing" target="_blank">Accessibility (a11y)</a>:</strong> Screen readers, color contrast, keyboard navigation.</li>
                        <li><strong>Documentation:</strong> Ensuring manuals and help guides match the actual software behavior.</li>
                    </ul>
                </div>
            </details>

        </section>

        <!-- 2. EXERCISES SECTION -->
        <section id="exercises" class="section">
            <h1>Exercises</h1>
            <p>Please complete the following assignments. You can type directly or import your work.</p>

            <!-- Exercise 1 -->
            <div class="exercise-card">
                <h3>[4.1] Homework Question 1: Comprehensive Test Strategy Design</h3>
                <p><strong>The Scenario:</strong> You are the new Test Lead for "FoodZoom," a brand-new <strong>mobile application</strong> for restaurant delivery. The app has features like Login, Search, Menu, Cart, Checkout, and Live Tracking. The system has a <strong>WebApp</strong> for restaurant owners and a <strong>back-end server</strong>.</p>
                <p><strong>Your Task (Requires > 1 hour):</strong> Write a high-level "Test Plan" document (min 500 words) covering:</p>
                <ol>
                    <li><strong>Component Testing:</strong> Strategy for mobile vs back-end components.</li>
                    <li><strong>Integration Testing:</strong> Strategy (Top-down/Thread-based?) and one critical thread.</li>
                    <li><strong>Specialized Mobile Testing:</strong> 3 critical mobile-specific tests (Connectivity, etc.).</li>
                    <li><strong>Specialized WebApp Testing:</strong> 2 critical tests for the Restaurant Owner WebApp.</li>
                    <li><strong>Validation Testing:</strong> Validating "Live Order Tracking".</li>
                    <li><strong>Performance Testing:</strong> One Load Test and one Stress Test scenario.</li>
                </ol>
                
                <div class="answer-area">
                    <div class="toolbar">
                        <label class="import-btn">
                            üìÇ Import Content
                            <input type="file" class="import-hidden" onchange="importFile(this, 'ans1')">
                        </label>
                        <span style="font-size:0.8rem; align-self:center;">(Supports .txt, .md, .html, Images)</span>
                    </div>
                    <div id="ans1" class="editable-box" contenteditable="true" placeholder="Type your answer here..."></div>
                </div>
            </div>

            <!-- Exercise 2 -->
            <div class="exercise-card">
                <h3>[4.2] Homework Question 2: Bug Analysis and Test Case Design</h3>
                <p><strong>The Scenario:</strong> A video game crashes in the 'Ice Palace' level if you are <strong>holding the 'Fire Sword'</strong>, <strong>jump</strong>, and <strong>open inventory</strong> at the same time.</p>
                <p><strong>The Fix:</strong> The developer changed logic so <code>JUMPING_MENU</code> state cannot be overwritten by the weapon state.</p>
                <p><strong>Your Task:</strong></p>
                <ol>
                    <li><strong>Bug Classification:</strong> Classify the bug (Integration/System?) and justify. Suggest a technique to find similar bugs.</li>
                    <li><strong>Regression Test Case:</strong> Design a specific step-by-step test to ensure this bug is fixed.</li>
                    <li><strong>Design 3 Negative Test Cases:</strong> Design tests to try and break the <em>new fix</em> (e.g., escaping the priority state, interactions with other states like Falling).</li>
                </ol>
                
                <div class="answer-area">
                    <div class="toolbar">
                        <label class="import-btn">
                            üìÇ Import Content
                            <input type="file" class="import-hidden" onchange="importFile(this, 'ans2')">
                        </label>
                        <span style="font-size:0.8rem; align-self:center;">(Supports .txt, .md, .html, Images)</span>
                    </div>
                    <div id="ans2" class="editable-box" contenteditable="true"></div>
                </div>
            </div>

            <!-- Submit Your Work -->
            <div class="submit-section">
                <h2>Submit Your Work</h2>
                <div class="form-group">
                    <label>Full Name:</label>
                    <input type="text" id="studentName" placeholder="Enter your Name">
                </div>
                <div class="form-group">
                    <label>Student ID:</label>
                    <input type="text" id="studentID" placeholder="Enter your ID">
                </div>
                
                <h3>How to Submit:</h3>
                <p>1. Ensure all answers are filled above.<br>
                2. Click <strong>"Copy to Clipboard"</strong> to save a local backup or paste into a document.<br>
                3. Click <strong>"Send via Email"</strong> to open your mail client addressed to <em>asengroa@hotmail.com</em>.</p>
                
                <div class="submit-actions">
                    <button class="action-btn btn-copy" onclick="copyToClipboard()">Copy to Clipboard (Save as .txt)</button>
                    <a id="mailtoLink" href="#" class="action-btn btn-email" onclick="prepareEmail()">Send Answers via Email</a>
                </div>
            </div>
        </section>

        <!-- 3. TIPS SECTION -->
        <section id="tips" class="section">
            <h1>Tips</h1>
            <details open>
                <summary>Tips for Question 1 (FoodZoom)</summary>
                <div class="details-content">
                    <ul>
                        <li>Think about <strong>RISK</strong>. What is the worst that can happen?</li>
                        <li><strong>Mobile:</strong> Don't forget Interruptions (Phone calls) and Connectivity (Loss of 4G).</li>
                        <li><strong>Integration:</strong> Use Scenario-based testing (User Stories).</li>
                    </ul>
                </div>
            </details>
            <details open>
                <summary>Tips for Question 2 (Game Bug)</summary>
                <div class="details-content">
                    <ul>
                        <li>This is an <strong>Interaction</strong> bug (Integration level).</li>
                        <li><strong>Regression:</strong> Steps must be exact. "Press Space, then I" is better than "Jump and open menu".</li>
                        <li><strong>Negative Tests:</strong> Try to break the fix. What if you do something else while in the "Menu" state?</li>
                    </ul>
                </div>
            </details>
        </section>

        <!-- 4. EXPLANATIONS SECTION -->
        <section id="explanations" class="section">
            <h1>Explanations</h1>
            <details>
                <summary>Explanation Q1: Test Strategy</summary>
                <div class="details-content">
                    <p>A good strategy prioritizes by risk. The backend needs white-box testing. The mobile app needs connectivity and battery testing. The WebApp needs security testing (can I see other restaurant's data?).</p>
                </div>
            </details>
            <details>
                <summary>Explanation Q2: State Interaction</summary>
                <div class="details-content">
                    <p>The bug happened because three systems (Movement, Combat, UI) interacted unexpectedly. State-Transition testing is the best technique to find these.</p>
                </div>
            </details>
        </section>

        <!-- 5. ANSWERS SECTION (Protected) -->
        <section id="answers" class="section">
            <h1>Answers</h1>
            <div style="background: var(--bg-alt); padding: 20px; border: 1px solid var(--border);">
                <h2>Possible Answer Summary</h2>
                <h3>Question 1</h3>
                <ul>
                    <li><strong>Component:</strong> Unit test calculation logic using drivers.</li>
                    <li><strong>Integration:</strong> Thread-based testing (e.g., "Order Flow").</li>
                    <li><strong>Performance:</strong> Load test (Normal lunch rush), Stress test (Max drivers before crash).</li>
                </ul>
                <h3>Question 2</h3>
                <ul>
                    <li><strong>Classification:</strong> System/Integration Bug.</li>
                    <li><strong>Regression Test:</strong> 1. Equip Fire Sword. 2. Jump. 3. Open Inventory mid-air. 4. Verify no crash.</li>
                </ul>
            </div>
        </section>

        <!-- 6. EVALUATION GRID -->
        <section id="evaluation" class="section">
            <h1>Evaluation Grid</h1>
            <table>
                <thead>
                    <tr>
                        <th>Criteria</th>
                        <th>Max Points</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Q1: Component Strategy</strong> (Clear distinction back-end/mobile)</td>
                        <td>15</td>
                    </tr>
                    <tr>
                        <td><strong>Q1: Integration Strategy</strong> (Justified thread/scenario choice)</td>
                        <td>20</td>
                    </tr>
                    <tr>
                        <td><strong>Q1: Mobile Specifics</strong> (Connectivity, Interruptions)</td>
                        <td>20</td>
                    </tr>
                    <tr>
                        <td><strong>Q2: Bug Classification</strong> (Correct logic)</td>
                        <td>30</td>
                    </tr>
                    <tr>
                        <td><strong>Q2: Regression Test</strong> (Repeatable steps)</td>
                        <td>30</td>
                    </tr>
                </tbody>
            </table>
        </section>

    </div>

    <!-- Password Modal -->
    <div id="pwdModal" class="modal">
        <div class="modal-content">
            <h3>Password Required</h3>
            <p style="white-space: pre-line; text-align: left; font-size: 0.9rem; margin-bottom: 10px;">
Please enter the password to view the answers.
If you want to Cancel the action, click outside the "Password Required" box.
You can see the entered password by clicking on the "eye" icon.
            </p>
            <div class="pwd-input-container">
                <input type="password" id="pwdInput" class="pwd-input" placeholder="Password">
                <span class="eye-icon" onclick="togglePwdVisibility()">üëÅÔ∏è</span>
            </div>
            <button class="action-btn btn-email" onclick="verifyPassword()">Unlock</button>
            <div id="pwdError" class="error-msg">Incorrect Password!</div>
        </div>
    </div>

    <script>
        // --- THEME LOGIC ---
        const themeToggle = document.getElementById('themeToggle');
        const html = document.documentElement;

        themeToggle.addEventListener('change', () => {
            if(themeToggle.checked) {
                html.classList.remove('solarized-light');
                html.classList.add('solarized-dark');
            } else {
                html.classList.remove('solarized-dark');
                html.classList.add('solarized-light');
            }
        });

        // --- NAVIGATION LOGIC ---
        function showSection(id) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(btn => btn.classList.remove('active'));
            
            // Show target
            document.getElementById(id).classList.add('active');
            
            // Highlight Button
            const buttons = document.querySelectorAll('.nav-item');
            if(id === 'lecture') buttons[0].classList.add('active');
            if(id === 'exercises') buttons[1].classList.add('active');
            if(id === 'tips') buttons[2].classList.add('active');
            if(id === 'explanations') buttons[3].classList.add('active');
            if(id === 'answers') buttons[4].classList.add('active');
            if(id === 'evaluation') buttons[5].classList.add('active');
        }

        // --- EXPAND / COLLAPSE ALL ---
        function toggleDetails(shouldOpen) {
            const activeSection = document.querySelector('.section.active');
            if (activeSection.id === 'evaluation') return;

            const details = activeSection.querySelectorAll('details');
            details.forEach(d => {
                if (shouldOpen) d.setAttribute('open', 'true');
                else d.removeAttribute('open');
            });
        }

        // --- PYTHON SANDBOX SIMULATION ---
        function runCode(outputId, resultText) {
            const out = document.getElementById(outputId);
            out.style.display = 'block';
            out.innerText = "Running...\n" + resultText;
        }

        function clearCode(outputId) {
            const out = document.getElementById(outputId);
            out.innerText = "";
            out.style.display = 'none';
        }

        // --- PASSWORD PROTECTION ---
        const modal = document.getElementById('pwdModal');
        const pwdInput = document.getElementById('pwdInput');
        let isUnlocked = false;

        function checkPassword() {
            if (isUnlocked) {
                showSection('answers');
            } else {
                modal.style.display = 'flex';
                pwdInput.value = "";
                document.getElementById('pwdError').style.display = 'none';
            }
        }

        function verifyPassword() {
            const input = pwdInput.value;
            const encoded = btoa(input);
            if (encoded === "c3R1ZGVudH5+MjAyNQ==") {
                isUnlocked = true;
                modal.style.display = 'none';
                showSection('answers');
            } else {
                document.getElementById('pwdError').style.display = 'block';
            }
        }

        function togglePwdVisibility() {
            if(pwdInput.type === "password") pwdInput.type = "text";
            else pwdInput.type = "password";
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        // --- IMPORT FUNCTIONALITY ---
        function importFile(input, targetId) {
            const file = input.files[0];
            if (!file) return;
            
            const target = document.getElementById(targetId);
            const reader = new FileReader();

            if (file.type.match('image.*')) {
                reader.onload = function(e) {
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    target.appendChild(document.createElement('br'));
                    target.appendChild(img);
                    target.appendChild(document.createElement('br'));
                };
                reader.readAsDataURL(file);
            } else {
                reader.onload = function(e) {
                    const text = e.target.result;
                    const p = document.createElement('div');
                    p.innerText = text; 
                    target.appendChild(document.createElement('hr'));
                    target.appendChild(p);
                };
                reader.readAsText(file);
            }
        }

        // --- SUBMISSION LOGIC ---
        function getAnswersText() {
            const name = document.getElementById('studentName').value || "Unknown";
            const id = document.getElementById('studentID').value || "Unknown";
            const ans1 = document.getElementById('ans1').innerText;
            const ans2 = document.getElementById('ans2').innerText;
            
            return `STUDENT SUBMISSION\nName: ${name}\nID: ${id}\n\n=== QUESTION 1 ===\n${ans1}\n\n=== QUESTION 2 ===\n${ans2}`;
        }

        function copyToClipboard() {
            const text = getAnswersText();
            navigator.clipboard.writeText(text).then(() => {
                alert("Answers copied to clipboard! Please create a file named 'copied_content.txt' and paste.");
            });
        }

        function prepareEmail() {
            const text = getAnswersText();
            const subject = "Homework Submission";
            const body = encodeURIComponent(text);
            const link = document.getElementById('mailtoLink');
            link.href = `mailto:asengroa@hotmail.com?subject=${subject}&body=${body}`;
        }

    </script>
</body>
</html>